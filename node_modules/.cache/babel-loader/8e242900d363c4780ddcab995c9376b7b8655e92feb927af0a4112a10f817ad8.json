{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Decagon Laptop\\\\Desktop\\\\Movie_App\\\\MovieApp_Frontend\\\\src\\\\OmdbMovie.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\nimport MovieCard from \"./MovieCard\";\nimport \"./App.css\";\nimport SearchIcon from \"./search.svg\";\nimport axios from \"axios\";\nimport MovieDetails from \"./MovieDetails\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OmdbMovie = () => {\n  _s();\n  const [movies, setMovies] = useState([]);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [searchHistory, setSearchHistory] = useState([]);\n  const searchMovies = async () => {\n    try {\n      const response = await axios.get(`https://movieapp-backend-uz9h.onrender.com/api/Movie/search?title=${searchTerm}`);\n      setSearchResults(response.data.search);\n      setMovies(response.data.search);\n      // Save the search query to local storage\n      saveSearchToHistory(searchTerm);\n    } catch (error) {\n      console.error(\"Error during search:\", error);\n    }\n  };\n  const saveSearchToHistory = query => {\n    // Get existing search history from local storage\n    const existingHistory = JSON.parse(localStorage.getItem(\"searchHistory\")) || [];\n\n    // Add the new query to the history\n    const updatedHistory = [query, ...existingHistory.slice(0, 4)];\n\n    // Save the updated history to local storage\n    localStorage.setItem(\"searchHistory\", JSON.stringify(updatedHistory));\n\n    // Set the search history state\n    setSearchHistory(updatedHistory);\n  };\n  useEffect(() => {\n    // Fetch the initial search history from local storage\n    const initialHistory = JSON.parse(localStorage.getItem(\"searchHistory\")) || [];\n    setSearchHistory(initialHistory);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"OMDB MovieApp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          placeholder: \"Search for movies\",\n          value: searchTerm,\n          onChange: e => setSearchTerm(e.target.value),\n          onKeyDown: e => {\n            if (e.key === \"Enter\") {\n              searchMovies();\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: SearchIcon,\n          alt: \"search\",\n          onClick: () => searchMovies(searchTerm)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [searchResults !== null && (searchResults === null || searchResults === void 0 ? void 0 : searchResults.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"container\",\n              children: movies && movies.map(movie => /*#__PURE__*/_jsxDEV(Link, {\n                to: `https://movieapp-backend-uz9h.onrender.com/api/Movie/${movie.imdbID}`,\n                children: /*#__PURE__*/_jsxDEV(MovieCard, {\n                  movie: movie\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 27\n                }, this)\n              }, movie.imdbID, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty\",\n              children: /*#__PURE__*/_jsxDEV(\"h1\", {\n                children: searchResults !== null ? \"No search found\" : \"No movie found\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"classSearch History:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: searchHistory.map((query, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: query\n                }, index, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 101,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"https://movieapp-backend-uz9h.onrender.com/api/Movie/:id\",\n          element: /*#__PURE__*/_jsxDEV(MovieDetails, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 91\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(OmdbMovie, \"2ffRMTxWPsgNMfwOVTOzS+h7fu4=\");\n_c = OmdbMovie;\nexport default OmdbMovie;\nvar _c;\n$RefreshReg$(_c, \"OmdbMovie\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Link","MovieCard","SearchIcon","axios","MovieDetails","jsxDEV","_jsxDEV","OmdbMovie","_s","movies","setMovies","searchTerm","setSearchTerm","searchResults","setSearchResults","searchHistory","setSearchHistory","searchMovies","response","get","data","search","saveSearchToHistory","error","console","query","existingHistory","JSON","parse","localStorage","getItem","updatedHistory","slice","setItem","stringify","initialHistory","children","className","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChange","e","target","onKeyDown","key","src","alt","onClick","path","element","length","map","movie","to","imdbID","index","_c","$RefreshReg$"],"sources":["C:/Users/Decagon Laptop/Desktop/Movie_App/MovieApp_Frontend/src/OmdbMovie.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BrowserRouter as Router, Routes, Route, Link } from \"react-router-dom\";\r\nimport MovieCard from \"./MovieCard\";\r\nimport \"./App.css\";\r\nimport SearchIcon from \"./search.svg\";\r\nimport axios from \"axios\";\r\nimport MovieDetails from \"./MovieDetails\";\r\n\r\nconst OmdbMovie = () => {\r\n  const [movies, setMovies] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [searchResults, setSearchResults] = useState([]);\r\n  const [searchHistory, setSearchHistory] = useState([]);\r\n\r\n  const searchMovies = async () => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://movieapp-backend-uz9h.onrender.com/api/Movie/search?title=${searchTerm}`\r\n      );\r\n    \r\n      setSearchResults(response.data.search);\r\n      setMovies(response.data.search);\r\n      // Save the search query to local storage\r\n      saveSearchToHistory(searchTerm);\r\n    } catch (error) {\r\n      console.error(\"Error during search:\", error);\r\n    }\r\n  };\r\n\r\n  const saveSearchToHistory = (query) => {\r\n    // Get existing search history from local storage\r\n    const existingHistory = JSON.parse(localStorage.getItem(\"searchHistory\")) || [];\r\n\r\n    // Add the new query to the history\r\n    const updatedHistory = [query, ...existingHistory.slice(0, 4)];\r\n\r\n    // Save the updated history to local storage\r\n    localStorage.setItem(\"searchHistory\", JSON.stringify(updatedHistory));\r\n\r\n    // Set the search history state\r\n    setSearchHistory(updatedHistory);\r\n  };\r\n\r\n  useEffect(() => {\r\n   // Fetch the initial search history from local storage\r\n   const initialHistory = JSON.parse(localStorage.getItem(\"searchHistory\")) || [];\r\n   setSearchHistory(initialHistory);\r\n  }, []);\r\n\r\n  return (\r\n    <Router>\r\n      <div className=\"app\">\r\n        <h1>OMDB MovieApp</h1>\r\n\r\n        <div className=\"search\">\r\n          <input\r\n            placeholder=\"Search for movies\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Enter\") {\r\n                searchMovies();\r\n              }\r\n            }}\r\n          />\r\n          <img\r\n            src={SearchIcon}\r\n            alt=\"search\"\r\n            onClick={() => searchMovies(searchTerm)}\r\n          />\r\n        </div>\r\n\r\n        <Routes>\r\n          <Route\r\n            path=\"/\"\r\n            element={\r\n              <div>\r\n                {searchResults !== null && searchResults?.length > 0 ? (\r\n                  <div className=\"container\">\r\n                    {movies &&\r\n                      movies.map((movie) => (\r\n                        <Link key={movie.imdbID} to={`https://movieapp-backend-uz9h.onrender.com/api/Movie/${movie.imdbID}`}>\r\n                          <MovieCard movie={movie} />\r\n                        </Link>\r\n                      ))}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"empty\">\r\n                    <h1>\r\n                      {searchResults !== null\r\n                        ? \"No search found\"\r\n                        : \"No movie found\"}\r\n                    </h1>\r\n                  </div>\r\n                )}\r\n\r\n                <div>\r\n                  <h2>classSearch History:</h2>\r\n                  <ul>\r\n                    {searchHistory.map((query, index) => (\r\n                      <li key={index}>{query}</li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            }\r\n          />\r\n          <Route path=\"https://movieapp-backend-uz9h.onrender.com/api/Movie/:id\" element={<MovieDetails />} />\r\n        </Routes>\r\n      </div>\r\n    </Router>\r\n  );\r\n};\r\n\r\nexport default OmdbMovie;\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}